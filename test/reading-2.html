<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/2.7.13/cytoscape.js" integrity="sha256-RuoFRV3YQfhh3+WUq57nBnTmJA6Q5Nh6nfSKxwTPCiw=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pegjs/0.9.0/peg.js" integrity="sha256-cwfR02g6XnRmRxZLIwyChnsn4ODrS2uSl6eODJkjrnY=" crossorigin="anonymous"></script> <!-- TODO out of date -->
<script src="https://cdn.rawgit.com/cpettitt/dagre/v0.7.4/dist/dagre.js"></script>
<script src="https://rawgit.com/cytoscape/cytoscape.js-dagre/master/cytoscape-dagre.js"></script>
<script>
const module = {};
function require(module) {
  switch (module) {
    case 'cytoscape': return window.cytoscape;
    case 'snapdown-parser': return PEG.buildParser(snapdown_grammar);
  }
  throw module;
}
</script>
<script src="../src/snapdown.peg.js"></script>
<script src="../src/index.js"></script>
<script> const Snapdown = module.exports; </script>
</head>
<body>
<h1>Primitive values</h1>
<script type="text/snapdown">
_ -> 3
_ -> 5.0
_ -> 'c'
_ -> null
</script>
<h1>Object values</h1>
<script type="text/snapdown">
_ -> (Point)
_ -> (Point x -> 5, y -> -3)
_ -> (Point int x -> 5, int y -> -3)
</script>
<h1>Reassignment and immutable values</h1>
<script type="text/snapdown">
s -x> ((String "a"))
s -> ((String "ab"))
</script>
<h1>Mutable values</h1>
<!-- TODO need a syntax for crossing out old values -->
<script type="text/snapdown">
sb -> (StringBuilder "a", "ab")
</script>
<h1>Immutable references</h1>
<script type="text/snapdown">
_ -> (Person id => 9208484, age -> 19)
</script>
<h1>List</h1>
<script type="text/snapdown">
cities -> (List<String> 0 -> "Boston", 1 -> "BogotÃ¡", 2 -> "Barcelona")
</script>
<h1>Set</h1>
<!-- FIXME how to disambiguate between values that should be inside the bubble vs.
values outside? We would probably like (Set<Integer> -7, 42, 1024) to be the
correct syntax. -->
<script type="text/snapdown">
cities -> (Set<Integer> _ -> -7, _ -> 42, _ -> 1024)
</script>
<h1>Map</h1>
<!-- TODO -->
<script>
Snapdown.renderAll();
</script>
</body>
</html>
